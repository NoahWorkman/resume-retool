<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nana's Resume Builder - 100% Factual Keyword Optimization</title>
    
    <!-- jsPDF for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }
        
        .header p {
            opacity: 0.95;
            font-size: 1.2em;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            border: 1px solid #e9ecef;
        }
        
        .section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #495057;
            font-weight: 600;
            font-size: 0.95em;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            background: white;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
            font-family: inherit;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            margin: 10px 10px 10px 0;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #6c757d 0%, #495057 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);
        }
        
        .output-section {
            grid-column: span 2;
            background: white;
            border: 2px solid #dee2e6;
        }
        
        .preview {
            padding: 30px;
            min-height: 400px;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
            background: #f8f9fa;
            border-radius: 8px;
            font-size: 0.95em;
        }
        
        .skills-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }
        
        .skill-tag {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .warning-box {
            background: linear-gradient(to right, #fff3cd, #fff8dc);
            border: 2px solid #ffc107;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .warning-box h3 {
            color: #856404;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .warning-box ul {
            margin-left: 25px;
            color: #856404;
            line-height: 1.8;
        }
        
        .success-box {
            background: linear-gradient(to right, #d4edda, #e7f5ea);
            border: 2px solid #28a745;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .success-box h3 {
            color: #155724;
            margin-bottom: 10px;
        }
        
        .error-box {
            background: linear-gradient(to right, #f8d7da, #fde2e4);
            border: 2px solid #dc3545;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .error-box h3 {
            color: #721c24;
            margin-bottom: 10px;
        }
        
        .ai-prompt-display {
            background: #2d3436;
            color: #74b9ff;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.6;
        }
        
        .ai-prompt-display strong {
            color: #a29bfe;
        }
        
        .status-message {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            display: none;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .status-success {
            background: linear-gradient(to right, #d4edda, #e7f5ea);
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background: linear-gradient(to right, #f8d7da, #fde2e4);
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background: linear-gradient(to right, #d1ecf1, #e7f3f5);
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #dee2e6;
        }
        
        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s;
        }
        
        .tab:hover {
            color: #667eea;
        }
        
        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        .upload-area {
            border: 3px dashed #667eea;
            border-radius: 12px;
            padding: 40px;
            text-align: center;
            background: #f8f9fa;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            background: #e9ecef;
            border-color: #764ba2;
        }
        
        .upload-area.dragover {
            background: #e7e9fc;
            border-color: #764ba2;
        }
        
        .keyword-match-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .match-section {
            padding: 15px;
            border-radius: 8px;
        }
        
        .matched {
            background: linear-gradient(to right, #d4edda, #e7f5ea);
            border: 1px solid #28a745;
        }
        
        .unmatched {
            background: linear-gradient(to right, #f8d7da, #fde2e4);
            border: 1px solid #dc3545;
        }
        
        .progress-bar {
            width: 100%;
            height: 30px;
            background: #e9ecef;
            border-radius: 15px;
            overflow: hidden;
            margin: 20px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .output-section {
                grid-column: span 1;
            }
            
            .keyword-match-display {
                grid-template-columns: 1fr;
            }
        }
        
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Nana's Resume Builder</h1>
            <p>AI-Powered Resume Customization with 100% Factual Accuracy</p>
        </div>
        
        <div class="main-content">
            <!-- Input Section -->
            <div class="section">
                <h2>üìã Job Posting Input</h2>
                
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('paste')">üìù Paste Text</button>
                    <button class="tab" onclick="switchTab('url')">üåê URL</button>
                    <button class="tab" onclick="switchTab('upload')">üì∏ Screenshot</button>
                </div>
                
                <div id="paste-tab" class="tab-content active">
                    <div class="form-group">
                        <label>Job Description</label>
                        <textarea id="jobDescription" placeholder="Paste the complete job description here...">Vice President, DUALS Strategic Initiatives

Position Purpose: A pivotal enterprise leadership role responsible for overseeing comprehensive business strategies into actionable, scalable implementation plans across markets and business functions...

Required:
‚Ä¢ Bachelor's Degree in Business Administration, Health Care Administration, Finance, or related field
‚Ä¢ 8+ years experience in strategy, operations management, or consulting experience in Healthcare
‚Ä¢ Direct people leadership, including the management of other people leaders
‚Ä¢ 3+ years of supervisory/management experience required
‚Ä¢ DUALS experience strongly preferred</textarea>
                    </div>
                </div>
                
                <div id="url-tab" class="tab-content">
                    <div class="form-group">
                        <label>Job Posting URL</label>
                        <input type="url" id="jobUrl" placeholder="https://www.linkedin.com/jobs/view/...">
                    </div>
                    <button class="btn" onclick="fetchFromUrl()">üîç Fetch Job Posting</button>
                </div>
                
                <div id="upload-tab" class="tab-content">
                    <div class="upload-area" onclick="document.getElementById('fileInput').click()" 
                         ondrop="handleDrop(event)" 
                         ondragover="handleDragOver(event)" 
                         ondragleave="handleDragLeave(event)">
                        <input type="file" id="fileInput" accept="image/*,.pdf" style="display: none" onchange="handleFileSelect(event)">
                        <h3>üì∏ Drop Screenshot or PDF Here</h3>
                        <p>or click to browse</p>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Company Name</label>
                    <input type="text" id="company" value="Centene Corporation">
                </div>
                
                <div class="form-group">
                    <label>Position Title</label>
                    <input type="text" id="position" value="Vice President, DUALS Strategic Initiatives">
                </div>
            </div>
            
            <!-- Resume Data Section -->
            <div class="section">
                <h2>üë§ Nana's Resume Data</h2>
                
                <div class="form-group">
                    <label>Core Skills</label>
                    <div class="skills-container">
                        <span class="skill-tag">Project Management</span>
                        <span class="skill-tag">Change Management</span>
                        <span class="skill-tag">Strategic Planning</span>
                        <span class="skill-tag">Operations Excellence</span>
                        <span class="skill-tag">Team Leadership</span>
                        <span class="skill-tag">P&L Management</span>
                        <span class="skill-tag">Digital Transformation</span>
                        <span class="skill-tag">Stakeholder Management</span>
                        <span class="skill-tag">Agile & Waterfall</span>
                        <span class="skill-tag">Risk Mitigation</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Years of Experience</label>
                    <input type="text" value="20+ years" readonly style="background: #f8f9fa;">
                </div>
                
                <div class="form-group">
                    <label>Current Role</label>
                    <input type="text" value="SVP, Director Integrated Delivery at TBWA" readonly style="background: #f8f9fa;">
                </div>
                
                <div class="form-group">
                    <label>Portfolio Size</label>
                    <input type="text" value="$70 Million" readonly style="background: #f8f9fa;">
                </div>
            </div>
            
            <!-- AI Engine Section -->
            <div class="section output-section">
                <h2>‚öôÔ∏è Keyword Optimization Engine</h2>
                
                <div class="warning-box">
                    <h3>‚ö†Ô∏è 100% Factual Guarantee</h3>
                    <ul>
                        <li>‚úÖ Rewrites existing experience to include job keywords</li>
                        <li>‚úÖ Highlights transferable skills you possess</li>
                        <li>‚úÖ Optimizes for ATS keyword matching</li>
                        <li>‚ùå NEVER adds skills or experience you don't have</li>
                        <li>‚ùå NEVER fabricates certifications or qualifications</li>
                    </ul>
                </div>
                
                <div class="ai-prompt-display">
                    <strong>// AI Instructions</strong><br>
                    CRITICAL: Maintain 100% factual accuracy<br>
                    1. Extract keywords from job posting<br>
                    2. Match ONLY to existing experience<br>
                    3. Reword bullets to include matched keywords<br>
                    4. Flag unmatched requirements honestly<br>
                    5. Never fabricate or exaggerate
                </div>
                
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn" onclick="analyzeKeywords()">
                        üîç Analyze Keywords
                    </button>
                    <button class="btn btn-success" onclick="generateCustomizedResume()">
                        üöÄ Generate Resume
                    </button>
                    <button class="btn btn-secondary" onclick="showPDFOptions()">
                        üìÑ Export PDF
                    </button>
                </div>
                
                <!-- PDF Export Options (hidden by default) -->
                <div id="pdfOptions" style="display: none; margin-top: 20px; padding: 20px; background: #f0f0f0; border-radius: 8px;">
                    <h3 style="margin-bottom: 15px;">üìÑ PDF Export Settings</h3>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label style="font-weight: bold;">Font Style:</label>
                            <select id="pdfFont" style="width: 100%; padding: 8px; margin-top: 5px;">
                                <option value="helvetica" selected>Helvetica (Modern)</option>
                                <option value="times">Times New Roman (Classic)</option>
                                <option value="courier">Courier (Technical)</option>
                            </select>
                        </div>
                        <div>
                            <label style="font-weight: bold;">Color Scheme:</label>
                            <select id="pdfColor" style="width: 100%; padding: 8px; margin-top: 5px;">
                                <option value="professional" selected>Professional Blue</option>
                                <option value="classic">Classic Black</option>
                                <option value="modern">Modern Gray</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-success" onclick="generatePDF()" style="margin-top: 15px;">
                        üì• Download PDF
                    </button>
                </div>
                
                <div id="statusMessage" class="status-message"></div>
                
                <div id="keywordAnalysis" style="display: none;">
                    <h3 style="margin-top: 30px;">üìä Keyword Analysis Results</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="matchProgress">0%</div>
                    </div>
                    <div class="keyword-match-display">
                        <div class="match-section matched">
                            <h4>‚úÖ Matched Keywords</h4>
                            <ul id="matchedKeywords"></ul>
                        </div>
                        <div class="match-section unmatched">
                            <h4>‚ö†Ô∏è Cannot Add (No Experience)</h4>
                            <ul id="unmatchedKeywords"></ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Resume Preview Section -->
            <div class="section output-section">
                <h2>üìù Customized Resume Preview</h2>
                <div id="resumePreview" class="preview">
                    <em style="color: #6c757d;">Your keyword-optimized resume will appear here...</em>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Nana's verified experience data
        const nanaData = {
            fullName: "Ji Myung Nana Sheppard",
            contact: "917.513.6060 | nobermann@gmail.com | New Jersey | LinkedIn",
            title: "SVP, Director Integrated Delivery | Best Practices & Change Agent | Operations Guru",
            yearsExp: 20,
            currentCompany: "TBWA WH",
            portfolioSize: 70000000,
            teamSize: 30,
            
            verifiedSkills: [
                "Project & Program Management",
                "Change Management",
                "Digital Production",
                "Agile & Waterfall Methodology",
                "Risk Assessment & Mitigation",
                "Stakeholder Management",
                "Operations Management",
                "Vendor Management",
                "Financial & Budget Planning",
                "Workflow Design",
                "Team Leadership",
                "P&L Management",
                "Strategic Planning",
                "Digital Transformation"
            ],
            
            verifiedDomains: {
                leadership: ["SVP", "Director", "30+ team members", "executive leadership"],
                operations: ["operations management", "operational excellence", "workflow optimization"],
                financial: ["$70M portfolio", "P&L responsibility", "budget planning"],
                industries: ["advertising", "marketing", "healthcare clients", "financial services clients"],
                transformation: ["change management", "digital transformation", "modernization"]
            },
            
            forbiddenKeywords: [
                "clinical", "patient care", "HIPAA", "medical", "nursing",
                "coding", "programming", "software development",
                "CPA", "PMP", "Six Sigma", "ITIL"
            ]
        };
        
        // Tab switching
        function switchTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            event.target.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.add('active');
        }
        
        // File handling
        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (file) {
                showStatus(`üìÅ File selected: ${file.name}`, 'info');
                // In real implementation, would process with OCR/PDF extraction
            }
        }
        
        function handleDrop(event) {
            event.preventDefault();
            event.target.classList.remove('dragover');
            const file = event.dataTransfer.files[0];
            if (file) {
                showStatus(`üìÅ File dropped: ${file.name}`, 'info');
            }
        }
        
        function handleDragOver(event) {
            event.preventDefault();
            event.target.classList.add('dragover');
        }
        
        function handleDragLeave(event) {
            event.target.classList.remove('dragover');
        }
        
        // Keyword Analysis
        function analyzeKeywords() {
            showStatus('üîç Analyzing job keywords...', 'info');
            
            const jobText = document.getElementById('jobDescription').value.toLowerCase();
            const matched = [];
            const unmatched = [];
            
            // Simulate keyword extraction
            const jobKeywords = extractKeywords(jobText);
            
            jobKeywords.forEach(keyword => {
                if (canClaimKeyword(keyword)) {
                    matched.push({
                        keyword: keyword,
                        mapping: getKeywordMapping(keyword)
                    });
                } else {
                    unmatched.push({
                        keyword: keyword,
                        reason: "No direct experience"
                    });
                }
            });
            
            // Display results
            displayKeywordAnalysis(matched, unmatched);
            showStatus('‚úÖ Keyword analysis complete!', 'success');
        }
        
        function extractKeywords(text) {
            // Simplified keyword extraction
            const keywords = [];
            
            const patterns = [
                "strategic", "healthcare", "operations", "leadership",
                "change management", "cross-functional", "stakeholder",
                "implementation", "transformation", "medicaid", "medicare"
            ];
            
            patterns.forEach(pattern => {
                if (text.includes(pattern)) {
                    keywords.push(pattern);
                }
            });
            
            return keywords;
        }
        
        function canClaimKeyword(keyword) {
            // Check if keyword matches Nana's experience
            if (nanaData.forbiddenKeywords.some(forbidden => keyword.includes(forbidden))) {
                return false;
            }
            
            // Check if keyword relates to verified experience
            const allVerified = [
                ...nanaData.verifiedSkills,
                ...Object.values(nanaData.verifiedDomains).flat()
            ].map(s => s.toLowerCase());
            
            return allVerified.some(verified => 
                verified.includes(keyword) || keyword.includes(verified.split(' ')[0])
            );
        }
        
        function getKeywordMapping(keyword) {
            const mappings = {
                "strategic": "Strategic planning and initiatives at TBWA",
                "healthcare": "Healthcare sector clients at Accenture",
                "operations": "Operations management and excellence",
                "leadership": "Leading 30+ person team",
                "change management": "Direct experience in change management",
                "transformation": "Digital transformation initiatives"
            };
            
            return mappings[keyword] || "Relevant experience";
        }
        
        function displayKeywordAnalysis(matched, unmatched) {
            const matchRate = (matched.length / (matched.length + unmatched.length)) * 100;
            
            document.getElementById('keywordAnalysis').style.display = 'block';
            document.getElementById('matchProgress').style.width = matchRate + '%';
            document.getElementById('matchProgress').textContent = Math.round(matchRate) + '%';
            
            const matchedList = document.getElementById('matchedKeywords');
            matchedList.innerHTML = matched.map(m => 
                `<li><strong>${m.keyword}</strong> ‚Üí ${m.mapping}</li>`
            ).join('');
            
            const unmatchedList = document.getElementById('unmatchedKeywords');
            unmatchedList.innerHTML = unmatched.map(u => 
                `<li><strong>${u.keyword}</strong>: ${u.reason}</li>`
            ).join('');
        }
        
        // Resume Generation
        function generateCustomizedResume() {
            showStatus('üöÄ Generating customized resume...', 'info');
            
            const company = document.getElementById('company').value;
            const position = document.getElementById('position').value;
            const jobDescription = document.getElementById('jobDescription').value;
            
            // Build customized resume
            let resume = `${nanaData.fullName}\n${nanaData.contact}\n\n`;
            resume += `${position} Candidate | ${nanaData.title}\n\n`;
            
            resume += `PROFESSIONAL SUMMARY\n`;
            resume += `Highly accomplished executive with ${nanaData.yearsExp}+ years driving strategic initiatives and operational excellence. `;
            resume += `Proven track record leading enterprise-wide transformations, managing cross-functional teams, and delivering measurable outcomes. `;
            resume += `Expert in change management, strategic planning, and scalable solution deployment.\n\n`;
            
            resume += `CORE COMPETENCIES\n`;
            const prioritizedSkills = prioritizeSkills(jobDescription);
            prioritizedSkills.forEach(skill => {
                resume += `‚Ä¢ ${skill}\n`;
            });
            
            resume += `\nPROFESSIONAL EXPERIENCE\n\n`;
            resume += `TBWA WH, NEW YORK, NY                                                2023 ‚Äì Present\n`;
            resume += `SVP, Director of Integrated Delivery/Project + Program Management\n`;
            resume += `‚Ä¢ Lead strategic initiatives across $70M portfolio with enterprise-wide impact\n`;
            resume += `‚Ä¢ Drive operational transformation and change management for 30+ team members\n`;
            resume += `‚Ä¢ Partner with executive stakeholders to align strategic priorities\n`;
            resume += `‚Ä¢ Design scalable implementation frameworks for cross-functional execution\n`;
            resume += `‚Ä¢ Champion best practices and continuous improvement initiatives\n\n`;
            
            resume += `ACCENTURE, NEW YORK, NY                                              2020 ‚Äì 2023\n`;
            resume += `Marketing and Communications Brand Delivery Lead\n`;
            resume += `‚Ä¢ Managed strategic initiatives for healthcare and financial services clients\n`;
            resume += `‚Ä¢ Led cross-functional transformation programs across multiple markets\n`;
            resume += `‚Ä¢ Developed scalable operational frameworks and governance structures\n`;
            resume += `‚Ä¢ Drove measurable improvements in efficiency and stakeholder alignment\n\n`;
            
            resume += `EDUCATION\n`;
            resume += `MFA, Literature, Fiction, Writing | City University of New York-Brooklyn College\n`;
            resume += `B.A. Degree, Literature and Creative Writing | Binghamton University`;
            
            document.getElementById('resumePreview').textContent = resume;
            showStatus('‚úÖ Resume generated successfully!', 'success');
        }
        
        function prioritizeSkills(jobText) {
            const jobLower = jobText.toLowerCase();
            const skills = [...nanaData.verifiedSkills];
            
            // Prioritize skills mentioned in job
            skills.sort((a, b) => {
                const aInJob = jobLower.includes(a.toLowerCase()) ? -1 : 1;
                const bInJob = jobLower.includes(b.toLowerCase()) ? -1 : 1;
                return aInJob - bInJob;
            });
            
            return skills.slice(0, 12);
        }
        
        // PDF Export functions
        function showPDFOptions() {
            const pdfOptions = document.getElementById('pdfOptions');
            const resumeText = document.getElementById('resumePreview').textContent;
            
            if (!resumeText || resumeText.includes('Your keyword-optimized resume will appear here')) {
                showStatus('‚ö†Ô∏è Please generate a resume first', 'error');
                return;
            }
            
            pdfOptions.style.display = pdfOptions.style.display === 'none' ? 'block' : 'none';
        }
        
        function generatePDF() {
            const resumeText = document.getElementById('resumePreview').textContent;
            
            if (!resumeText || resumeText.includes('Your keyword-optimized resume will appear here')) {
                showStatus('‚ö†Ô∏è Please generate a resume first', 'error');
                return;
            }
            
            showStatus('üìÑ Generating professional PDF...', 'info');
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF({
                orientation: 'portrait',
                unit: 'pt',
                format: 'letter'
            });
            
            const fontStyle = document.getElementById('pdfFont').value;
            const colorScheme = document.getElementById('pdfColor').value;
            
            // Set colors based on scheme
            let headerColor = [44, 62, 80]; // Professional blue
            let accentColor = [52, 152, 219];
            let textColor = [50, 50, 50];
            
            if (colorScheme === 'classic') {
                headerColor = [0, 0, 0];
                accentColor = [0, 0, 0];
                textColor = [0, 0, 0];
            } else if (colorScheme === 'modern') {
                headerColor = [52, 73, 94];
                accentColor = [127, 140, 141];
                textColor = [60, 60, 60];
            }
            
            // Set margins
            const margin = 54; // 0.75 inch
            let y = margin;
            
            // Set font
            doc.setFont(fontStyle);
            
            // Parse resume text
            const lines = resumeText.split('\n').map(line => line.trim()).filter(line => line);
            
            // Helper function to check if new page needed
            const checkNewPage = () => {
                if (y > doc.internal.pageSize.height - margin) {
                    doc.addPage();
                    y = margin;
                }
            };
            
            // Process each line
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                checkNewPage();
                
                // Name (first line)
                if (i === 0) {
                    doc.setTextColor(headerColor[0], headerColor[1], headerColor[2]);
                    doc.setFontSize(24);
                    doc.setFont(fontStyle, 'bold');
                    const textWidth = doc.getTextWidth(line);
                    const x = (doc.internal.pageSize.width - textWidth) / 2;
                    doc.text(line, x, y);
                    y += 30;
                }
                // Contact info
                else if (i === 1 && line.includes('|')) {
                    doc.setTextColor(100, 100, 100);
                    doc.setFontSize(10);
                    doc.setFont(fontStyle, 'normal');
                    const formatted = line.replace(/\|/g, ' ‚Ä¢ ');
                    const textWidth = doc.getTextWidth(formatted);
                    const x = (doc.internal.pageSize.width - textWidth) / 2;
                    doc.text(formatted, x, y);
                    y += 20;
                }
                // Professional title
                else if (line.includes('Candidate') && i < 5) {
                    doc.setTextColor(headerColor[0], headerColor[1], headerColor[2]);
                    doc.setFontSize(12);
                    doc.setFont(fontStyle, 'bold');
                    const textWidth = doc.getTextWidth(line);
                    const x = (doc.internal.pageSize.width - textWidth) / 2;
                    doc.text(line, x, y);
                    y += 25;
                    
                    // Add accent line
                    doc.setDrawColor(accentColor[0], accentColor[1], accentColor[2]);
                    doc.setLineWidth(1);
                    doc.line(margin, y - 5, doc.internal.pageSize.width - margin, y - 5);
                    y += 5;
                }
                // Section headers
                else if (['PROFESSIONAL SUMMARY', 'CORE COMPETENCIES', 'PROFESSIONAL EXPERIENCE', 'EDUCATION'].includes(line)) {
                    y += 10;
                    doc.setTextColor(headerColor[0], headerColor[1], headerColor[2]);
                    doc.setFontSize(13);
                    doc.setFont(fontStyle, 'bold');
                    doc.text(line, margin, y);
                    y += 5;
                    
                    // Add underline
                    doc.setDrawColor(accentColor[0], accentColor[1], accentColor[2]);
                    doc.setLineWidth(1);
                    doc.line(margin, y, margin + doc.getTextWidth(line), y);
                    y += 12;
                }
                // Bullet points
                else if (line.startsWith('‚Ä¢')) {
                    doc.setTextColor(textColor[0], textColor[1], textColor[2]);
                    doc.setFontSize(10);
                    doc.setFont(fontStyle, 'normal');
                    
                    // Handle long bullets with word wrap
                    const maxWidth = doc.internal.pageSize.width - (margin * 2) - 15;
                    const splitText = doc.splitTextToSize(line, maxWidth);
                    
                    splitText.forEach((textLine, index) => {
                        checkNewPage();
                        if (index === 0) {
                            doc.text(textLine, margin + 10, y);
                        } else {
                            doc.text(textLine, margin + 20, y);
                        }
                        y += 13;
                    });
                }
                // Company/dates line
                else if (line.match(/\d{4}\s*‚Äì\s*(Present|\d{4})/)) {
                    y += 5;
                    doc.setTextColor(headerColor[0], headerColor[1], headerColor[2]);
                    doc.setFontSize(11);
                    doc.setFont(fontStyle, 'bold');
                    
                    // Try to split company and dates
                    const dateMatch = line.match(/(\d{4}\s*‚Äì\s*(Present|\d{4}))/);
                    if (dateMatch) {
                        const company = line.substring(0, line.indexOf(dateMatch[0])).trim();
                        const dates = dateMatch[0];
                        
                        // Company name
                        doc.text(company, margin, y);
                        
                        // Dates (right aligned)
                        doc.setTextColor(127, 140, 141);
                        doc.setFontSize(10);
                        doc.setFont(fontStyle, 'normal');
                        const dateWidth = doc.getTextWidth(dates);
                        doc.text(dates, doc.internal.pageSize.width - margin - dateWidth, y);
                    } else {
                        doc.text(line, margin, y);
                    }
                    y += 16;
                }
                // Job titles
                else if (line.includes('Director') || line.includes('Lead') || line.includes('Manager') || line.includes('VP') || line.includes('President')) {
                    doc.setTextColor(80, 80, 80);
                    doc.setFontSize(10);
                    doc.setFont(fontStyle, 'italic');
                    doc.text(line, margin, y);
                    y += 16;
                }
                // Regular text (summary, education, etc.)
                else {
                    doc.setTextColor(textColor[0], textColor[1], textColor[2]);
                    doc.setFontSize(10);
                    doc.setFont(fontStyle, 'normal');
                    
                    // Handle long text with word wrap
                    const maxWidth = doc.internal.pageSize.width - (margin * 2);
                    const splitText = doc.splitTextToSize(line, maxWidth);
                    
                    splitText.forEach(textLine => {
                        checkNewPage();
                        doc.text(textLine, margin, y);
                        y += 13;
                    });
                }
            }
            
            // Save the PDF
            const company = document.getElementById('company').value || 'Resume';
            const date = new Date().toISOString().split('T')[0];
            const fileName = `${company.replace(/\s+/g, '_')}_Resume_${date}.pdf`;
            
            doc.save(fileName);
            showStatus(`‚úÖ PDF saved as: ${fileName}`, 'success');
            
            // Hide PDF options after generation
            document.getElementById('pdfOptions').style.display = 'none';
        }
        
        // Status messages
        function showStatus(message, type) {
            const statusEl = document.getElementById('statusMessage');
            statusEl.textContent = message;
            statusEl.className = `status-message status-${type}`;
            statusEl.style.display = 'block';
            
            if (type !== 'error') {
                setTimeout(() => {
                    statusEl.style.display = 'none';
                }, 5000);
            }
        }
        
        // URL fetching
        function fetchFromUrl() {
            const url = document.getElementById('jobUrl').value;
            if (url) {
                showStatus('üåê Fetching job posting from URL...', 'info');
                // In real implementation, would fetch and parse URL
                setTimeout(() => {
                    showStatus('‚úÖ Job posting fetched! (Demo mode - paste text instead)', 'success');
                }, 1500);
            }
        }
        
        // Initialize
        window.onload = function() {
            console.log('Nana\'s Resume Builder loaded successfully');
        };
    </script>
</body>
</html>